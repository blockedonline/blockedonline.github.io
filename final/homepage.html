<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>BlockedOnline</title>

    <!-- CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="font-awesome-4.0.3/css/font-awesome.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
    <link href="css/responsive.css" rel="stylesheet">
    <link href="css/animate.css" rel="stylesheet">
    <link href="fonts/bebas-font.css" rel="stylesheet">
		<link href="css/map.css" rel="stylesheet">

    <!-- FONTS -->
    <link href='http://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700' rel='stylesheet' type='text/css'>
    <!-- map -->
    <style>
        svg {height:500px;margin:auto;/*padding-top:20px;*/}
        .hoverinfo{color:#000}
    </style>
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
</head>

<body>

<header id="header" class="header">
    <nav class="navbar mainnav navbar-default" role="navigation" id="mainnav">
        <div class="navbar-container">
            <div class="logo pull-left">
                <a href="#"><img class="img-responsive" src="img/header-logo.png"></a>
            </div>
            <div class="navbar-header pull-right">
                <button type="button" class="navbar-toggle menu-btn-xs" data-toggle="collapse" data-target="#mainnav-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
            </div>
            <div class="collapse navbar-collapse pull-left mainnav-collapse" id="mainnav-collapse">
                <ul class="nav navbar-nav topmenu">
                    <li class="line line-left active word"><a href="homepage.html">HOME</a></li>
                    <li class="line word"><a href="explore.html">EXPLORE DATA</a></li>
                    <li class="line word"><a href="get-involved.html">GET INVOLVED</a></li>
                    <li class="line word"><a href="about.html">ABOUT</a></li>
                </ul>
            </div>
            <div class="clearfix"></div>
        </div>
    </nav>
</header>
<div class="content">
    <div class="main-header">
        Monitor Internet Censorship
    </div>
    <div class="sub-header">
        Examine data on online blockage that we collect from around the world and help collect more
    </div>
    <div id="d3map" style="position: relative; width: 100%; max-height: 500px; margin-top:40px;"></div>
    <div class="button-row">
        <div class="row">
            <div class="col-sm-4 text-center pbottom">
                <div class="explore"> Find out more about internet censorship worldwide</div>
                <div class="btn-group">
                    <button type="button" class="btn explore-data-btn ucase">explore data</button>
                </div>
            </div>
            <div class="col-sm-offset-3 col-sm-5 get-involved text-center">
                <div class="explore"> Your contribution can upgrade our knowledge about online censorhip in the world</div>
                <div class="btn-group">
                    <button type="button" class="btn get-involved-btn ucase">get involved</button>
                </div>
            </div>

        </div>
    </div>
</div>


<div class="container text-center" style="padding:40px;border-top:1px solid #ccc;border-bottom:1px solid #ccc;">
    <h2 style="color:#58bdd0"><span id="number" style="color:#F8995D">How many</span> websites are blocked in <span id="country" style="color:#F8995D">your country?</span></h2>
</div>


<div class="content">
    <div class="row">
        <div class="col-sm-6">
            <div class="title ucase">Latest news on online censorship around the world</div>
            <div class="sub-title" id="news-box">
                <!--<ul class="fa-ul">
                    <li><i class="fa-li fa fa-chevron-right"></i><span style="font-family: 'bebas_neueregular'; font-size: 21px "> BBC:</span> Iraqis use Firechat messaging app to overcome net block</li>
                    <li><i class="fa-li fa fa-chevron-right"></i> <span style="font-family: 'bebas_neueregular'; font-size: 21px"> INDEPENDENT ONLINE:</span> Iraqis use Firechat messaging app to overcome net block </li>
                    <li><i class="fa-li fa fa-chevron-right"></i><span style="font-family: 'bebas_neueregular'; font-size: 21px "> KNOXVILLE NEWS SENTINEL:</span> Google disruption in China seen as government crackdownqis use Firechat </li>
                    <li><i class="fa-li fa fa-chevron-right"></i><span style="font-family: 'bebas_neueregular'; font-size: 21px"> EFF:</span> Twitter Reverses Decision to Censor Content in Pakistan</li>
                    <li><i class="fa-li fa fa-chevron-right"></i><span style="font-family: 'bebas_neueregular'; font-size: 21px"> THE INQUISITR:</span> Connecticut Schools Censors The Vatican, NRA,Republican, And Christian Websites As \u2018Hate Speech </li>
                    <li class="see-more">See more</li>
                </ul>-->
            </div>

        </div>
        <div class="col-sm-offset-1 col-sm-5 ptop">
            <div class="sub-title block">Want to see how tough is online censorship
                in different countries or check where a website
                is blocked around the world?</div>
            <div class="btn-group">
                <button type="button" class="btn explore-data-btn ucase" style="margin-top: 10px">explore data</button>
            </div>
            <div class="sub-title block" style="margin-top: 65px">Like the project? You can increase the
                accuracy of our data and help us gather more
                statistics about internet blockage</div>
            <div class="btn-group">
                <button type="button" class="btn get-involved-btn ucase" style="margin-top: 10px">get involved</button>
            </div>
        </div>
    </div>
</div>



<footer id="footer">
    <div style="margin-top: 106px"></div>
</footer>

<div class="news-tip">
	<div class="tip-content">
		<span id="count"></span> websites are blocked in <span id="name"></span>
	</div>
	<div class="tip-content-no-info">
		<div class="status"> No Data is Available Yet </div>
		<div> Do you live here? </div>
		<div class="action"> <a href="./get-involved.html">Help Us Collect Data </a></div>
	</div>
	<div class="arrow-down"></div>
</div>

<!-- JavaScript -->
<!--<script src="//code.jquery.com/jquery-1.11.0.min.js"></script>-->
<script src="js/jquery-1.10.2.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/jquery.throttle.js"></script>
<!--<script src="js/jquery.scrollTo.min.js"></script>-->
<!--<script src="js/jquery.localScroll.min.js"></script>-->
<!--<script src="js/scrollspy.js"></script>-->
<script type="text/javascript" src="js/d3.v3.js"></script>
<script src="./datamaps/topojson.v1.min.js"></script>
<script src="./datamaps/datamaps.world.min.js"></script>
<script src="js/d3.tip.js"></script>
<script src="js/map.js"></script>
<script type="text/javascript">
//DataMaps for url
// function createMap(ename,d){
//   var map = new Datamap({
//     element: document.getElementById(ename),
//     fills: { Hdfbfa2: '#dfbfa2',
//              Hd5aa95: '#d5aa95',
//              Hca9587: '#ca9587',
//              Hc08079: '#c08079',
//              Hb56a6b: '#b56a6b',
//              Haa555d: '#aa555d',
//              Ha0404f: '#a0404f',
//              H952b42: '#952b42',
//              H8b1534: '#8b1534',
//              H800026:'#800026'
//           },
//     data: d,
//     geographyConfig: {
//       highlightOnHover: false
//     }
//   });

 // map.legend();
// }

$.get("http://blockedonline.com/blocked/data?homepage")
  .done(function(datas) {
    if (datas.status == 'OK'){   
        var str_news='<ul class="fa-ul">';
        datas.news.forEach(function(news) {   
            //<ul class="fa-ul"> <li><i class="fa-li fa fa-chevron-right"></i>agency
            str_news+='<li><i class="fa-li fa fa-chevron-right"></i><span style="font-family: bebas_neueregular; font-size: 21px ">'+
            news.agency + '</span> - <a href="' + news.link + 
            '" target="_blank">' + news.news_title + '</a></li>';
        });   
        $('#news-box').html(str_news+'</ul>');
        //datas.data--> {USA: {fillKey: "Hd5aa95"}, KGZ: {fillKey: "Hd5aa95"}, UZB:...}
        //createMap('d3map',datas.data);       
				setupMap('d3map', datas);  
    }
});

$.get("http://kiarash.me/blocked/data", {homepage: 0}).done(function (datas) {
    if (datas.status == 'OK') {
        var terms = datas.terms;
        function rotateTerm() {
            var ct = $("#country").data("term") || 0;
            //console.log(ct);
            $("#country").data("term", ct == terms.length - 1 ? 0 : ct + 1).text(terms[ct].c).fadeIn().delay(2000);
            $("#number").text(terms[ct].n).fadeIn().delay(2000).fadeOut(200, rotateTerm);
        }
        $(rotateTerm);
    }
});
</script>
</body>
</html>